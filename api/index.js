const router = require('express').Router()const chalk = require('chalk')const AuthenticationController = require('../auth/authentication')const passportService = require('../auth/passport')const passport = require('passport')router.use(passport.initialize());// Middleware to require login/authconst requireAuth = passport.authenticate('jwt', { session: false, failureRedirect: '/api/fail' })const requireLogin = passport.authenticate('local', { session: false,  failureRedirect: '/api/fail' })router.post('/login',  requireLogin,  AuthenticationController.login)router.get('/fail', (req, res, next) => {  console.log('Login/Auth Failed')  res.send('Login/Auth Failed')})router.use('*', requireAuth)router.get('/deeper', (req, res, next) => {  console.log('deep inside')  res.send('welcome deeper')})module.exports = router;